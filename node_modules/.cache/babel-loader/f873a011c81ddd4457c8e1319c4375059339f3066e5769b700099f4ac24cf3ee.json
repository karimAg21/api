{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\n\n// setting the api link\nexport const API_URL = `http://127.0.0.1/php/api/api.php`;\n/* plz subsribe to thapa technical channel \r\n          https://www.youtube.com/thapatechnical\r\n         */\nconst useFetch = apiParams => {\n  _s();\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState({\n    show: \"false\",\n    msg: \"\"\n  });\n  const [movie, setMovie] = useState(null);\n  const getMovie = async url => {\n    setIsLoading(true);\n    try {\n      const res = await fetch(url);\n      const data = await res.json();\n      console.log(data);\n      if (data.Response === \"True\") {\n        setIsLoading(false);\n        setMovie(data.Search || data);\n        setIsError({\n          show: \"false\",\n          msg: \"\"\n        });\n      } else {\n        setIsError({\n          show: \"true\",\n          msg: data.Error\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // debouncing in react js\n  useEffect(() => {\n    let timeOut = setTimeout(() => {\n      getMovie(`${API_URL}&s=${apiParams}`);\n    }, 1000);\n    console.log(\"set\");\n    return () => {\n      clearTimeout(timeOut);\n      console.log(\"clear\");\n    };\n  }, [apiParams]);\n  return {\n    isLoading,\n    isError,\n    movie\n  };\n};\n_s(useFetch, \"zB6Z8Oiru7ajYcc29o3LfIxXMqo=\");\nexport default useFetch;","map":{"version":3,"names":["React","useState","useEffect","API_URL","useFetch","apiParams","_s","isLoading","setIsLoading","isError","setIsError","show","msg","movie","setMovie","getMovie","url","res","fetch","data","json","console","log","Response","Search","Error","error","timeOut","setTimeout","clearTimeout"],"sources":["C:/Users/karim/Desktop/firstapp/src/my/UseEffect.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\n// setting the api link\r\nexport const API_URL = `http://127.0.0.1/php/api/api.php`;\r\n/* plz subsribe to thapa technical channel \r\n          https://www.youtube.com/thapatechnical\r\n         */\r\nconst useFetch = (apiParams) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isError, setIsError] = useState({ show: \"false\", msg: \"\" });\r\n  const [movie, setMovie] = useState(null);\r\n\r\n  const getMovie = async (url) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const res = await fetch(url);\r\n      const data = await res.json();\r\n\r\n      console.log(data);\r\n      if (data.Response === \"True\") {\r\n        setIsLoading(false);\r\n        setMovie(data.Search || data);\r\n        setIsError({ show: \"false\", msg: \"\" });\r\n      } else {\r\n        setIsError({ show: \"true\", msg: data.Error });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  // debouncing in react js\r\n  useEffect(() => {\r\n    let timeOut = setTimeout(() => {\r\n      getMovie(`${API_URL}&s=${apiParams}`);\r\n    }, 1000);\r\n    console.log(\"set\");\r\n    return () => {\r\n      clearTimeout(timeOut);\r\n      console.log(\"clear\");\r\n    };\r\n  }, [apiParams]);\r\n\r\n  return { isLoading, isError, movie };\r\n};\r\n\r\nexport default useFetch;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;;AAElD;AACA,OAAO,MAAMC,OAAO,GAAG,kCAAkC;AACzD;AACA;AACA;AACA,MAAMC,QAAQ,GAAIC,SAAS,IAAK;EAAAC,EAAA;EAC9B,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC;IAAEU,IAAI,EAAE,OAAO;IAAEC,GAAG,EAAE;EAAG,CAAC,CAAC;EAClE,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMc,QAAQ,GAAG,MAAOC,GAAG,IAAK;IAC9BR,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF,MAAMS,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAG,CAAC;MAC5B,MAAMG,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;MAE7BC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;MACjB,IAAIA,IAAI,CAACI,QAAQ,KAAK,MAAM,EAAE;QAC5Bf,YAAY,CAAC,KAAK,CAAC;QACnBM,QAAQ,CAACK,IAAI,CAACK,MAAM,IAAIL,IAAI,CAAC;QAC7BT,UAAU,CAAC;UAAEC,IAAI,EAAE,OAAO;UAAEC,GAAG,EAAE;QAAG,CAAC,CAAC;MACxC,CAAC,MAAM;QACLF,UAAU,CAAC;UAAEC,IAAI,EAAE,MAAM;UAAEC,GAAG,EAAEO,IAAI,CAACM;QAAM,CAAC,CAAC;MAC/C;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;IACpB;EACF,CAAC;;EAED;EACAxB,SAAS,CAAC,MAAM;IACd,IAAIyB,OAAO,GAAGC,UAAU,CAAC,MAAM;MAC7Bb,QAAQ,CAAC,GAAGZ,OAAO,MAAME,SAAS,EAAE,CAAC;IACvC,CAAC,EAAE,IAAI,CAAC;IACRgB,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;IAClB,OAAO,MAAM;MACXO,YAAY,CAACF,OAAO,CAAC;MACrBN,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;IACtB,CAAC;EACH,CAAC,EAAE,CAACjB,SAAS,CAAC,CAAC;EAEf,OAAO;IAAEE,SAAS;IAAEE,OAAO;IAAEI;EAAM,CAAC;AACtC,CAAC;AAACP,EAAA,CArCIF,QAAQ;AAuCd,eAAeA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}